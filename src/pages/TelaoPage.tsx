import React, { useState, useEffect, useRef, useCallback } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import QRCode from 'qrcode.react';
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Switch } from "@/components/ui/switch";
import { Slider } from "@/components/ui/slider"
import { useToast } from "@/hooks/use-toast";
import { Copy, Check, UserPlus, UserMinus, Loader2, X, Tv2, AlertTriangle } from "lucide-react";
import { generateSessionId, isSessionActive, createSession, endSession, getSessionParticipants, addParticipantToSession, updateParticipantStatus } from "@/utils/sessionUtils";
import ParticipantGrid from "@/components/live/ParticipantGrid";
import { setH264CodecPreference, initTelaoWebRTC, startScreenShare, stopScreenShare, setOnParticipantTrack, activeParticipants, cleanupWebRTC } from '@/utils/webrtc';
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogTrigger,
} from "@/components/ui/alert-dialog"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
} from "@/components/ui/sheet"
import { Separator } from "@/components/ui/separator"
import { Badge } from "@/components/ui/badge";
import { supabase } from '@/integrations/supabase/client';

interface Participant {
  id: string;
  name: string;
  active: boolean;
  selected: boolean;
  hasVideo?: boolean;
  connectedAt?: number;
}

const TelaoPage = () => {
  const navigate = useNavigate();
  const { toast } = useToast();
  const { sessionId: routeSessionId } = useParams<{ sessionId: string }>();
  const [sessionId, setSessionId] = useState(routeSessionId || '');
  const [newSessionId, setNewSessionId] = useState('');
  const [qrCode, setQrCode] = useState('');
  const [isLive, setIsLive] = useState(false);
  const [isStarting, setIsStarting] = useState(false);
  const [isStopping, setIsStopping] = useState(false);
  const [isScreenSharing, setIsScreenSharing] = useState(false);
  const [participantList, setParticipantList] = useState<Participant[]>([]);
  const [selectedParticipantId, setSelectedParticipantId] = useState<string | null>(null);
  const [broadcastChannel, setBroadcastChannel] = useState<BroadcastChannel | null>(null);
  const [screenShareStream, setScreenShareStream] = useState<MediaStream | null>(null);
  const [finalAction, setFinalAction] = useState<'redirect' | 'none'>('none');
  const [finalActionOpen, setFinalActionOpen] = useState(false);
  const [finalActionTimeLeft, setFinalActionTimeLeft] = useState(20);
  const [finalActionTimerId, setFinalActionTimerId] = useState<NodeJS.Timeout | null>(null);
  const [isH264Preferred, setIsH264Preferred] = useState(true);
  const [maxParticipants, setMaxParticipants] = useState<number>(6);
  const [supabaseChannel, setSupabaseChannel] = useState<any>(null);
  const [isSessionFull, setIsSessionFull] = useState(false);
  const [sessionCheckInterval, setSessionCheckInterval] = useState<NodeJS.Timeout | null>(null);
  const [sessionHeartbeatInterval, setSessionHeartbeatInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackInterval, setLocalStorageFallbackInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackTimeout, setLocalStorageFallbackTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackKey, setLocalStorageFallbackKey] = useState<string | null>(null);
  const [localStorageFallbackValue, setLocalStorageFallbackValue] = useState<string | null>(null);
  const [localStorageFallbackResponse, setLocalStorageFallbackResponse] = useState<string | null>(null);
  const [localStorageFallbackResponseTimeout, setLocalStorageFallbackResponseTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseKey, setLocalStorageFallbackResponseKey] = useState<string | null>(null);
  const [localStorageFallbackResponseValue, setLocalStorageFallbackResponseValue] = useState<string | null>(null);
  const [localStorageFallbackResponseInterval, setLocalStorageFallbackResponseInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheck, setLocalStorageFallbackResponseCheck] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckKey, setLocalStorageFallbackResponseCheckKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckValue, setLocalStorageFallbackResponseCheckValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckInterval, setLocalStorageFallbackResponseCheckInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckTimeout, setLocalStorageFallbackResponseCheckTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponse, setLocalStorageFallbackResponseCheckResponse] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeout, setLocalStorageFallbackResponseCheckResponseTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseKey, setLocalStorageFallbackResponseCheckResponseKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseValue, setLocalStorageFallbackResponseCheckResponseValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseInterval, setLocalStorageFallbackResponseCheckResponseInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutKey, setLocalStorageFallbackResponseCheckResponseTimeoutKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutValue, setLocalStorageFallbackResponseCheckResponseTimeoutValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutInterval, setLocalStorageFallbackResponseCheckResponseTimeoutInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutKey, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutValue, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutInterval, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutKey, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutValue, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutInterval, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutKey, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutValue, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutInterval, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutKey, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutKey] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutValue, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutValue] = useState<string | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutInterval, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutInterval] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutIntervalTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutKeyTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout, setLocalStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutValueTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout] = useState<NodeJS.Timeout | null>(null);
  const [localStorageFallbackResponseCheckResponseTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeoutTimeout
